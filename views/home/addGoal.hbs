{{>navbarAuthenticated}}
<h2>Add goal</h2>
<form action="/addGoal/{{id}}/{{username}}/{{list}}" method="post" id="myForm">
    <input type="hidden" name="_csrf" value="{{csrfToken}}">
    {{>validationSummary}}
    <input type="text" name="goal" placeholder="Write your goal..." aria-label="An input field where you write down the goal you want to add to your list." value="{{goal}}" required="required"></input>
    <button class="form-button" type="submit" aria-label="Button for adding the goal to your list.">Add</button>
</form>

<script>
    let iOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
    let browserVersion = /10_3/.test(navigator.userAgent) && !window.MSStream;

    if (iOS && !browserVersion) {
        let form = document.getElementById('myForm');
         form.noValidate = true;
         form.addEventListener('submit', function(event) {
            if (!event.target.checkValidity()) {
                 event.preventDefault();
                 alert('Error! You must fill all required fields.');
        }
        }, false);
    }
</script>
