{{>navbarAuthenticated}}

{{>validationSummary}}

<h2 class="center1">{{username}}s Life<sup>2</sup> progress</h2>
<div id="myProgress">
    <div id="myBar"></div>
</div>
<br>

{{#if bucketlists }}
    <div class="bucketlists">
    {{#each bucketlists as |value key|}}
        <div class="bucketlist">
            <h4 class="inline">{{title}}</h4>
            {{#if locked}}
                <img class="lockImg" src="/images/padlock-red.png" alt="A red padlock indicating that the list is locked." id="{{id}}" data-list="bucketlist">
            {{else}}
                <img class="lockImg" src="/images/padlock-green.png" alt="A green padlock indicating that the list in unlocked." id="{{id}}" data-list="bucketlist">
            {{/if}}<br>
            <b>Created at: </b><p class="date">{{createdAt}}</p><br>
            <b>Goals:</b><br>
            {{#if goals}}
                {{#each goals}}
                    {{#if checked}}
                        <div class="checkboxDiv"><input type="checkbox" data-list="bucketlist" id="{{value.id}}" name="aGoal" aria-label="A checkbox with the value {{title}}" value="{{title}}" class="checkbox" checked="{{checked}}">{{title}}<br>
                        <a href="/uploads/{{value.id}}/{{value.username}}?list=Bucketlist" class="form-button upload">+ Upload image and text</a></div>
                    {{else}}
                        <div class="checkboxDiv"><input type="checkbox" data-list="bucketlist" id="{{value.id}}" name="aGoal" aria-label="A checkbox with the value {{title}}" value="{{title}}" class="checkbox">{{title}}<br>
                        <a href="/uploads/{{value.id}}/{{value.username}}?list=Bucketlist" class="form-button upload" hidden="true">+ Upload image and text</a></div>
                    {{/if}}
                {{/each}}
            {{else}}
                <i>No goals added yet.</i><br>
            {{/if}}
            {{#if locked}}
                <div class="addGoal" hidden="true"><a href="/addGoal/{{id}}/{{username}}?list=Bucketlist" class="form-button">+ Add goal</a></div>
            {{else}}
                <div class="addGoal"><a href="/addGoal/{{id}}/{{username}}?list=Bucketlist" class="form-button">+ Add goal</a></div>
            {{/if}}
            {{#if deadline}}
                <br><b>Deadline: </b><p class="date">{{deadline}}</p><br>
            {{else}}
                <div class="addGoal"><a href="/setDeadline/{{id}}/{{username}}?list=Bucketlist" class="form-button">+ Set deadline</a></div>
            {{/if}}
        </div>
    {{/each}}
    </div>
{{/if}}
{{#if lifelist }}
    {{#each lifelist as |value key|}}
        <div class="lifelist">
            <h4 class="inline">{{title}}</h4>
            {{#if locked}}
                <img class="lockImg" src="/images/padlock-red.png" alt="A red padlock indicating that the list is locked." id="{{id}}" data-list="lifelist">
            {{else}}
                <img class="lockImg" src="/images/padlock-green.png" alt="A green padlock indicating that the list is unlocked." id="{{id}}" data-list="lifelist">
            {{/if}}<br>
            <b>Created at: </b><p class="date">{{createdAt}}</p><br>
            <b>Goals:</b><br>
            {{#if goals}}
                {{#each goals}}
                    {{#if checked}}
                    <div class="checkboxDiv"><input type="checkbox" data-list="lifelist" id="{{value.id}}" name="aGoal" aria-label="A checkbox with the value {{title}}" value="{{title}}" class="checkbox" checked="{{checked}}">{{title}}<br>
                    <a href="/uploads/{{value.id}}/{{value.username}}?list=Lifelist" class="form-button upload">+ Upload image and text</a></div>
                {{else}}
                    <div class="checkboxDiv"><input type="checkbox" data-list="lifelist" id="{{value.id}}" name="aGoal" aria-label="A checkbox with the value {{title}}" value="{{title}}" class="checkbox">{{title}}<br>
                    <a href="/uploads/{{value.id}}/{{value.username}}?list=Lifelist" class="form-button upload" hidden="true">+ Upload image and text</a></div>
                    {{/if}}
                {{/each}}
            {{else}}
                <i>No goals added yet.</i><br>
            {{/if}}
            {{#if locked}}
                <div class="addGoal" hidden="true"><a href="/addGoal/{{id}}/{{username}}?list=Lifelist" class="form-button">+ Add goal</a></div>
            {{else}}
                <div class="addGoal"><a href="/addGoal/{{id}}/{{username}}?list=Lifelist" class="form-button">+ Add goal</a></div>
            {{/if}}
            {{#if deadline}}
                <br><b>Deadline: </b><p class="date">{{deadline}}</p><br>
            {{else}}
                <div class="addGoal"><a href="/setDeadline/{{id}}/{{username}}?list=Lifelist" class="form-button">+ Set deadline</a></div>
            {{/if}}
        </div>
    {{/each}}
{{/if}}


<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="/clientscripts/userPage.js"></script>
